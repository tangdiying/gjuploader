<nz-modal [(nzVisible)]="isUpload"
          nzTitle="上传"
          [nzWidth]="650"
          (nzOnCancel)="handleCancel()"
          (nzOnOk)="handleOk()">
    <div class="upload-container"
         (doAfterSingleTaskUploaded)="test($event)"
         [allowDropToUpload]="true"
         [autoHandleMergeRequest]="true"
         gjUploaderDirective [uploadType]="'file'" >
        <div class="upload-logo">
            <span  class="iconfont icon-upload" style="font-size: 50px;"></span>
            <p class="upload-desc">将目录或多个文件拖拽到此，或点击<a>上传</a></p>
        </div>
    </div>
    <mat-tab-group mat-align-tabs="center">
        <mat-tab [label]="'正在上传列表('+currentCount+')'">
            <div gjUploadProgress [uploadType]="'file'" (curCount)="curCount($event)" [uploadScroll]="false"></div>
        </mat-tab>
        <mat-tab [label]="'上传成功列表('+historyCount+')'">
            <gj-upload-histroy #uploadHistory [uploadType]="'file'" [uploadScroll]="false" (uploadCount)="uploadCount($event)">
            </gj-upload-histroy>
        </mat-tab>
    </mat-tab-group>
</nz-modal>
<button (click)="isUpload=true">上传</button>
<gj-upload-total-progress [uploadType]="'file'"></gj-upload-total-progress>
